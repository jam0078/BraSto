<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   <!-- メインページタイトル ─── -->
   <title>Brasto by no idea</title>
    <!-- load MUI -->
    <link href="https://cdn.muicss.com/mui-0.9.36/css/mui.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.muicss.com/mui-0.9.36/react/mui-react.js"></script>
    <!-- load React -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>
    <!-- load CSS -->
    <!-- <link rel="stylesheet" href="./home.css"> -->
    <!-- load Jacascript -->
    <!-- <script type="text/javascript" src="./home.js"></script> -->

  </head>
  <body>
    <!-- TODO:配置のコントロール tableタグでよいかも？ -->
    <table>
      <tr>
        <td><div id="members"></div></td>
        <td><div id="latestcomments"></div></td>
        <td><div id="keywords"></div></td>
      </tr>
      <tr>
        <td colspan="3"><div id="results"></div></td>
      </tr>
    </table>
    <script src="data_loader.js"></script>
    <script type="text/babel">
      //import 'data_loader'
      // TODO:コンテンツのHTML化
      function MembersCloud(props) {
          // TODO:ループで複数要素を出力
          return(<ul>{props.members.map(member => <li>{member.name}</li>)}</ul>);
      }
      function LatestComments(props) {
          return(<p>{props.x}</p>);
      }
      function KeywordCloud(props) {
          return(<h2>{props.x}</h2>);
      }
      function BraStoResultCards(props) {
          return(<h3>{props.x}</h3>);
      }
      // TODO:ループを回す
        // TODO:DBからデータ取得する（別jsファイルに切り出してここでは関数コールのみ）
        var data = load_data();
        // TODO:必要な引数の受け渡し
        ReactDOM.render(
            <MembersCloud members={data.channel_members}/>,
            document.getElementById('members')
        );
        ReactDOM.render(
            <LatestComments x={'最新コメント'}/>,
            document.getElementById('latestcomments')
        );
        ReactDOM.render(
            <KeywordCloud x={'キーワード'}/>,
            document.getElementById('keywords')
        );
        ReactDOM.render(
            <BraStoResultCards x={JSON.stringify(data)}/>,
            document.getElementById('results')
        );
        // TODO:一定時間待つ

      // TODO:ループを閉じる
    </script>
  </body>
</html>