<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">


    <!-- ライブラリの読み込み -->
    <!-- load MUI -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.muicss.com/mui-0.9.36/css/mui.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.muicss.com/mui-0.9.36/react/mui-react.js"></script>
    
    <!-- load React :最初の2行Reactライブラリ,3行目Javascript文法構文を拡張するJSXを有効化-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>

    <!-- load CSS -->
    <link rel="stylesheet" href="./home.css">

    <!-- load Jacascript -->
    <script type="text/javascript" src="./home.js"></script>

  </head>

    <!-- 要素の定義 :Reactで書き換える要素をDIV要素で記述.Javascriptから参照可能にする-->
    <div id="example"></div>
    <div id="card1"></div>
    <div id="disp"></div>
    <div id="time"></div>

    <!-- example content -->
    <div class="mui-container">
        <div class="mui-panel">
          <h1>My Title</h1>
          <button class="mui-btn mui-btn--primary mui-btn--raised">My Button</button>
        </div>
        <div class="mui-card">
            <h1>My Title</h1>
            <button class="mui-btn mui-btn--primary mui-btn--raised">My Card</button>
          </div>
          <div class="mui-panel">
              <h1>My Title</h1>
              <button class="mui-btn mui-btn--primary mui-btn--raised">
                <div id="disp"></div>
              </button>
            </div>
    </div>

    <div class="mui-container">
        <div class="mui-panel">
            <div id="disp"></div>
          </div>
        </div>


    <!-- スクリプトの定義 :Javascriptの定義 JSX使用のためtype属席はtext/babelとする-->
    <script type="text/babel">      
      //変数・定数定義
      let Appbar = mui.react.Appbar,
          Button = mui.react.Button,
          Container = mui.react.Container;

          //挨拶をしてDOMに設定するサンプル
      const root = document.querySelector('#disp')
      const msg = getGreeting()
      ReactDOM.render(msg,root)
          //挨拶返す関数
          function getGreeting () {
            //randomな値を取得
            const r = Math.floor(Math.random() * 3)
            //値に応じてメッセージを返す
            if (r == 0) return <p>AAAAAAAAAAAAAA</p>
            if (r == 1) return <p>BBBBBBBBBBBBBB</p>
            if (r == 2) return <p>CCCCCCCCCCCCCC</p>  
          }


    //   class Example extends React.Component {
    //     render() {
    //       return (
    //         <div>
    //           <Appbar></Appbar>
    //           <Container>
    //             <Button color="primary">button</Button>
    //           </Container>
    //         </div>
    //       );
    //     }
    // }
    // ReactDOM.render(<Example />, document.getElementById('example'));

    function BraStoResultCard(props) {
        return(<span dangerouslySetInnerHTML={{__html: props.htmlstring}}></span>);
    }
    ReactDOM.render(
         <BraStoResultCard htmlstring={'<h1>Hello1</h1>'}/>,
        document.getElementById('card1')
    );



    //定期的に時間を表示
    setInterval(showClock, 1000)
    //毎秒実行される関数
    function showClock () {
      const d = new Date()
      const hour = d.getHours()
      const min = d.getMinutes()
      const sec = d.getSeconds()
      const elem = <div>
          {hour}:{min}:{sec}
          </div>;
      const time = document.getElementById("time")
      ReactDOM.render(elem,time)
     }
    
    </script>
  </body>
</html>